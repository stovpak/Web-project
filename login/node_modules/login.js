var mysql = require('mysql');
const connection = mysql.createConnection({
    host: "127.0.0.1",
    port: '3306',
    user: "root",
    database: "web",
    password: "Edding16"

});
connection.connect(function(err){
    if (err) {
        return console.error("Ошибка: " + err.message);
    }
    else{
        console.log("Подключение к серверу MySQL успешно установлено");
    }
});
class User{
    constructor(login,password){
        this.login=login;
        this.password=password;
    }
};
function Chek (Login,Password)
{
    connection.query('SELECT * FROM users WHERE Login =  ? and Password = ?' ,[Login,Password], function (err,results,dields) {
        let userTables = JSON.parse(JSON.stringify(results));

        if (userTables[0] == null) {
                 console.log("Nepravilnie dannie");
            return;
        }
        else {
            let isAdmin = userTables[0]["RoleId"];
            console.log(isAdmin);
        }
    });
};

let user = new User('Vasya','Vasya123');

Chek(user.login,user.password);


